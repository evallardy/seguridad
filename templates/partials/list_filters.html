<form class="mb-3 filter-bar" method="get">
  <div class="row g-2">
    <div class="col-12 col-lg-3">
      <input
        class="form-control"
        type="search"
        name="q"
        placeholder="Buscar..."
        value="{{ request.GET.q|default:"" }}"
      >
    </div>

    {% if show_date %}
      <div class="col-6 col-lg-2">
        <input
          class="form-control"
          type="date"
          name="date_from"
          value="{{ request.GET.date_from|default:"" }}"
        >
      </div>
      <div class="col-6 col-lg-2">
        <input
          class="form-control"
          type="date"
          name="date_to"
          value="{{ request.GET.date_to|default:"" }}"
        >
      </div>
    {% endif %}

    {% if show_status %}
      <div class="col-6 col-lg-2">
        <select class="form-select" name="status">
          <option value="">Estatus</option>
          {% for value, label in status_choices %}
            <option value="{{ value }}" {% if request.GET.status == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    {% if show_cliente %}
      <div class="col-6 col-lg-3">
        <select class="form-select" name="cliente">
          <option value="">Cliente</option>
          {% for cliente in clientes %}
            <option value="{{ cliente.pk }}" {% if request.GET.cliente == cliente.pk|stringformat:"s" %}selected{% endif %}>
              {{ cliente }}
            </option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    {% if show_empleado %}
      <div class="col-6 col-lg-3">
        <select class="form-select" name="empleado">
          <option value="">Empleado</option>
          {% for empleado in empleados %}
            <option value="{{ empleado.pk }}" {% if request.GET.empleado == empleado.pk|stringformat:"s" %}selected{% endif %}>
              {{ empleado }}
            </option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    {% if show_tipo %}
      <div class="col-6 col-lg-2">
        <select class="form-select" name="tipo">
          <option value="">Tipo</option>
          {% for value, label in tipo_choices %}
            <option value="{{ value }}" {% if request.GET.tipo == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    {% if show_activo %}
      <div class="col-6 col-lg-2">
        <select class="form-select" name="activo">
          <option value="">Activo</option>
          {% for value, label in activo_choices %}
            <option value="{{ value }}" {% if request.GET.activo == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    {% if show_plataforma %}
      <div class="col-6 col-lg-2">
        <select class="form-select" name="plataforma">
          <option value="">Plataforma</option>
          {% for value, label in plataforma_choices %}
            <option value="{{ value }}" {% if request.GET.plataforma == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    {% if show_number %}
      <div class="col-6 col-lg-2">
        <input
          class="form-control"
          type="number"
          step="any"
          name="num_from"
          placeholder="{{ number_label }} min"
          value="{{ request.GET.num_from|default:"" }}"
        >
      </div>
      <div class="col-6 col-lg-2">
        <input
          class="form-control"
          type="number"
          step="any"
          name="num_to"
          placeholder="{{ number_label }} max"
          value="{{ request.GET.num_to|default:"" }}"
        >
      </div>
    {% endif %}

    {% if order_choices %}
      <div class="col-6 col-lg-2">
        <select class="form-select" name="order">
          <option value="">Orden</option>
          {% for value, label in order_choices %}
            <option value="{{ value }}" {% if request.GET.order == value %}selected{% endif %}>{{ label }}</option>
          {% endfor %}
        </select>
      </div>
    {% endif %}

    <div class="col-12 col-lg-2">
      <button class="btn btn-outline-secondary w-100" type="submit" data-bs-toggle="tooltip" title="Aplicar" aria-label="Aplicar">
        <i class="bi bi-funnel"></i>
      </button>
    </div>
  </div>
</form>
